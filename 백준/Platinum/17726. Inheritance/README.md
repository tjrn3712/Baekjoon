# [Platinum III] Inheritance - 17726 

[문제 링크](https://www.acmicpc.net/problem/17726) 

### 성능 요약

메모리: 177356 KB, 시간: 2640 ms

### 분류

이분 탐색, 자료 구조, 분리 집합, 그래프 이론, 최소 스패닝 트리

### 제출 일자

2025년 3월 11일 20:51:04

### 문제 설명

<p>IOI 国の鉄道をすべて所有していた大富豪の JOI 氏が逝去した．鉄道は遺言に従って分割相続されるこ とになった．</p>

<p>IOI 国には N 個の都市と，それらの間を結ぶ M 本の鉄道がある．都市には 1 から N までの番号が付け られ，鉄道には 1 から M までの番号が付けられている．鉄道 i は都市 A<sub>i</sub> と都市 B<sub>i</sub> の間を双方向に結び， また年間に C<sub>i</sub> 円の収益を上げている．鉄道の利用客数や乗車料金は多様なため，C<sub>1</sub>, . . . ,C<sub>M</sub> はそれぞれ相 異なる．同じ二つの都市を結ぶ鉄道が複数あるかもしれない．</p>

<p>遺言には以下のように鉄道の分割相続の方法が記されていた．</p>

<ul>
	<li>鉄道は，JOI 氏の K 人の子供に相続させる．子供たちには年齢が高い順に 1 から K までの番号が付 いている．</li>
	<li>それぞれの子供は，M 本の鉄道のうちのいくつか ( 0 本の場合もありうる ) を相続する．</li>
	<li>はじめに M 本の鉄道の中から，子供 1 がいくつか選び，自分の相続分とする．次に残った鉄道の中 から，子供 2 が自分の相続分を決める．以下同様にして，K 人の子供が順番に，自分の相続分を決 めていく．</li>
	<li>どの子供も，すでに相続先が決まった鉄道は相続することができない．すなわち，子供 j の相続分の 中に鉄道 i が含まれていたら，それより若い子供 k (k > j) は鉄道 i を自分の相続分の中に含めること ができない．</li>
	<li>どの子供も，自分の相続分を決める際，相続分がサイクルを含まないようにしなければならない．す なわち，鉄道 i<sub>1</sub>, i<sub>2</sub>, . . . , i<sub>m</sub> (i<sub>1</sub>, i<sub>2</sub>, . . . , i<sub>m</sub> は相異なる) を一回ずつ利用することである都市から出発して 同じ都市に戻ってくることができるとき，どの子供も，鉄道 i<sub>1</sub>, i<sub>2</sub>, . . . , i<sub>m</sub> をすべて一人で相続するこ とはできない．</li>
	<li>誰にも相続されずに残った鉄道は IOI 国に寄贈される．</li>
</ul>

<p>どの子供も，父に似て貪欲であるため，相続する鉄道の年間収益の合計ができるだけ大きくなるように 自分の相続分を選ぶ．どの子供についても，年間収益の合計が最大となるような相続分の選び方は，ただ 一通りであることが証明できる．それぞれの鉄道が誰に相続されるかを求めよ．</p>

<p>IOI 国の鉄道の情報と，JOI 氏の子供の人数が与えられたとき，それぞれの鉄道が誰に相続されるかを求 めるプログラムを作成せよ．</p>

### 입력 

 <p>標準入力から以下の入力を読み込め．</p>

<ul>
	<li>1 行目には，3 個の整数 N, M, K が空白を区切りとして書かれている．これは IOI 国には N 個の都市 と M 本の鉄道があり，JOI 氏には K 人の子供がいることを表す．</li>
	<li>続く M 行のうちの i 行目 (1 ≦ i ≦ M) には，整数 A<sub>i</sub>, B<sub>i</sub>, C<sub>i</sub> が空白を区切りとして書かれている．こ れは鉄道 i は都市 A<sub>i</sub> と都市 B<sub>i</sub> を双方向に結び，年間収益が C<sub>i</sub> 円であることを表す</li>
</ul>

### 출력 

 <p>出力は M 行からなる．i 行目 (1 ≦ i ≦ M) には，鉄道 i を相続する子供の番号を出力せよ．IOI 国に寄贈 される場合は 0 と出力せよ．</p>

