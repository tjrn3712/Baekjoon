# [Diamond I] 트리와 쿼리 11 - 13539 

[문제 링크](https://www.acmicpc.net/problem/13539) 

### 성능 요약

메모리: 17332 KB, 시간: 56 ms

### 분류

트리, 링크/컷 트리

### 제출 일자

2025년 9월 23일 10:11:40

### 문제 설명

<p>정점 하나로 이루어진 루트 있는 트리 N개가 있다. 정점은 1번부터 N번까지 번호가 매겨져 있다. </p>

<p>아래의 쿼리를 수행하는 프로그램을 작성하시오.</p>

<ul>
	<li><code>1 u v</code>: u와 v 사이에 간선을 하나 연결한다. 이때, v가 u의 부모가 된다. 쿼리가 실행되기 전에 u는 u가 포함되어 있는 트리의 루트이며, u와 v는 다른 트리에 속해 있음이 보장된다.</li>
	<li><code>2 v</code>: v와 v의 부모를 연결하는 간선을 끊는다. v는 루트가 아니다.</li>
	<li><code>3 u v</code>: u와 v의 LCA를 출력한다. u와 v는 같은 트리 안에 있다.</li>
</ul>

### 입력 

 <p>첫째 줄에 N (2 ≤ N ≤ 100,000)과 쿼리의 개수 M (1 ≤ M ≤ 200,000)이 주어진다.</p>

<p>다음 M개의 줄에는 쿼리가 한 줄에 하나씩 주어진다.</p>

### 출력 

 <p>각각의 3번 쿼리의 결과를 순서대로 한 줄에 하나씩 출력한다.</p>

