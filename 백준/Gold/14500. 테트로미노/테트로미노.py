import sys
input = sys.stdin.readline
def minput(): return map(int, input().split())

n,m=minput()
a=[[*minput()]for i in range(n)]

ans=0
for i in range(n):
    for j in range(m):
        for d in [[[0,1],[0,2],[0,3]],[[1,0],[2,0],[3,0]],[[1,0],[1,1],[2,1]],[[0,1],[1,1],[2,1]],[[0,-1],[1,-1],[1,-2]],[[0,1],[1,1],[1,2]],[[1,0],[2,0],[2,1]],[[0,1],[0,2],[1,2]],[[0,1],[0,2],[1,0]],[[0,1],[1,0],[2,0]],[[0,1],[0,2],[-1,2]],[[0,1],[1,0],[1,1]],[[1,0],[2,0],[2,-1]],[[1,0],[1,1],[1,2]],[[1,0],[1,1],[1,-1]],[[1,0],[1,1],[2,0]],[[0,1],[-1,1],[1,1]],[[0,-1],[1,0],[0,1]],[[1,0],[1,-1],[2,-1]]]:
            t=a[i][j]
            f=1
            for di,dj in d:
                ni,nj=i+di,j+dj
                if 0<=ni<n and 0<=nj<m: t+=a[ni][nj]
                else: f=0;break
            if f: ans=max(t,ans)
print(ans)