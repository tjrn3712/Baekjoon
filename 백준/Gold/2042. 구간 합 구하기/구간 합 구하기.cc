#include <iostream>
using namespace std;main(){int n,m,k,i=0,f;cin>>n>>m>>k;long long r,s[n*2]={},b,c;for(;i<n;i++)cin>>s[n+i];for(i--;i>0;i--)s[i]=s[i*2]+s[i*2+1];for(;i<m+k;i++){cin>>f>>b>>c;if(--f){r=0;for(b+=n-1,c+=n;b<c;b/=2,c/=2){if(b&1)r+=s[b++];if(c&1)r+=s[--c];}cout<<r<<'\n';}else for(s[b=--b+n]=c;b>1;b/=2)s[b/2]=s[b]+s[b^1];}}